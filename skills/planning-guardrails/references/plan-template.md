# Plan Template (Planning Guardrails)

## 参考情報

- [参照名] URL/PR/ファイルパス
- 短い注釈（なぜ重要か、何を参照すべきか）

## ユーザー発言（要約）

- ユーザーが何を望んでいるかを短く記述

## ユーザー発言（生ログ）

- 言い換え禁止。句読点の追加と改行のみ許可。
- フィラーや言い間違い、感情的発言もそのまま残す。

## 目的・成功条件

- 目的:
- 成功条件:

## スコープ

- in:
- out:

## 実装方針

- 主要アプローチ:

## 実行計画

- テストがある場合はTDD前提で進めることを明記。
- 手順を箇条書きで具体化。

## 公開API/インターフェース変更

- 変更点の有無:
- 変更がある場合の影響範囲:

## テスト/検証

- 正常系テストケース:
- 異常系テストケース:

## リスク・前提

- リスク:
- 前提:

---

# Examples

## Example 1

### 参考情報

- PR-1234: https://github.com/org/repo/pull/1234
- 注釈: 同様の機能追加でテスト構成が参考になる

### ユーザー発言（要約）

- 既存の処理を壊さずに新しいバリデーションを追加したい

### ユーザー発言（生ログ）

- 「あの えー 既存のやつ こわさずに えっと 追加したいんだけど」

### 目的・成功条件

- 目的: 新規バリデーション追加に伴う計画の明確化
- 成功条件: 必須セクションが埋まり、テストケースが定義されている

### スコープ

- in: バリデーション追加計画の策定
- out: 実装作業

### 実装方針

- 既存のバリデーション設計を踏襲し、差分を最小化する

### 実行計画

- テストがあるためTDDで進める
- 1. 正常系のテストケースを作成
- 2. 異常系のテストケースを作成
- 3. 実装
- 4. リファクタリング

### 公開API/インターフェース変更

- 変更点の有無: なし

### テスト/検証

- 正常系: 有効入力でバリデーションが通る
- 異常系: 無効入力でエラーが返る

### リスク・前提

- リスク: 既存テストが不足しており影響範囲が不明
- 前提: 既存PRのテスト構成が流用可能

## Example 2

### 参考情報

- docs/arch.md
- 注釈: 既存アーキテクチャ制約の確認が必要

### ユーザー発言（要約）

- 追加のログ出力を計画に入れたい

### ユーザー発言（生ログ）

- 「ログ えっと もっと出したい できれば 重要なとこ」

### 目的・成功条件

- 目的: ログ追加計画の明確化
- 成功条件: 参照情報とテストケースが明記されている

### スコープ

- in: ログ追加計画
- out: 実装・運用

### 実装方針

- 重要箇所のみログ追加し、既存ログ基盤を利用

### 実行計画

- テストがあるためTDDで進める
- 1. 正常系/異常系のログ出力テストを作成
- 2. 実装
- 3. リファクタリング

### 公開API/インターフェース変更

- 変更点の有無: なし

### テスト/検証

- 正常系: 重要イベントでログが出る
- 異常系: 例外時にログが出る

### リスク・前提

- リスク: ログ増加によるコスト増
- 前提: 既存ログフォーマットが維持される
